{% extends "base.html" %}

{% load widget_tweaks %}

{% block content %}

<div class="container mx-auto">
  	<section class="mx-auto max-w-lg bg-white border-2 border-dark-gray rounded-3xl h-100-l mt-8 p-8">

		<h1 class="text-6xl uppercase text-center pb-4">Log in</h1>

		{% if next %}
			{% if user.is_authenticated %}
			<p class="mb-6">Your account doesn't have authorisation to view this page. To proceed,
			please login with an account that has the required permissions. Contact support for more help.</p>
			{% else %}
			<p class="mb-6">You need to be logged in to see the page you were trying to view.</p>
			{% endif %}
		{% endif %}

		{% if form.errors %}
		<p class="text-purple mb-6">This username and password doesn't match an account in our records. Please try again.</p>
		{% endif %}

		<form method="post" action="{% url 'login' %}" >
			{% csrf_token %}

			<div class="">
				<label for="{{ form.username.id_for_label }}" class="text-base">Username</label>
				
				<div>
					{{ form.username|add_class:"bg-gray-100 border-gray-100 w-full" }}
				</div>
			</div>

			<div class="my-6">
				<label for="{{ form.password.id_for_label }}" class="text-base">Password</label>
				
				<div>
					{{ form.password|add_class:"bg-gray-100 border-gray-100 w-full" }}
				</div>

				{# Assumes you setup the password_reset view in your URLconf #}
				<p class="text-neutral-500 mt-2"><a href="{% url 'password_reset' %}">Lost password?</a></p>
			</div>

			<button type="submit" class="btn block m-auto w-2/3">Log in</button>

			<input type="hidden" name="next" value="{{ next }}">
		</form>

		<p class="mt-8">Don't have an account yet? <a href="{% url 'registration' %}">Create one.</a></p>

  	</section>
</div>


{% endblock %}



